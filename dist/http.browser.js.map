{"version":3,"sources":["webpack://http/webpack/bootstrap","webpack://http/./node_modules/@babel/runtime/helpers/defineProperty.js","webpack://http/./node_modules/@babel/runtime/helpers/objectSpread.js","webpack://http/./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack://http/./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack://http/./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack://http/./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack://http/./src/client.js","webpack://http/./src/utils.js","webpack://http/./src/constants.js","webpack://http/./src/middleware/basic_auth_middleware.js","webpack://http/./src/middleware/body_middleware.js","webpack://http/./src/middleware/json_body_middleware.js","webpack://http/./src/middleware/json_response_middleware.js","webpack://http/./src/middleware/response_status_middleware.js","webpack://http/./src/adapters/browser.js","webpack://http/./entries/browser.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","obj","configurable","writable","target","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","arrayWithHoles","iterableToArrayLimit","nonIterableRest","arr","Array","isArray","_arr","_n","_d","_e","undefined","_s","_i","iterator","next","done","push","err","TypeError","client","adapter","Error","middlewares","request","response","error","del","_len","args","_key","apply","httpClient","_len2","_key2","post","_len6","_key6","put","_len7","_key7","patch","_len5","_key5","head","_len3","_key3","options","_len4","_key4","delete","middleware","chain","callback","setup","runMiddleware","reduce","buffer","handleRequestError","reject","BODY","basicAuthMiddleware","string","_options$auth","auth","username","password","headers","atob","Buffer","from","toString","bodyMiddleware","encode","method","body","params","constructor","FormData","jsonBodyMiddleware","contentType","includes","JSON","stringify","jsonResponseMiddleware","data","parse","responseStatusMiddleware","status","String","success","match","redirect","location","encodeParams","map","encodeURIComponent","join","url","assign","timeout","prepareOptions","XMLHttpRequest","promise","Promise","resolve","objectSpread_default","defineProperty_default","toLowerCase","requestHasBody","buildUrl","open","setRequestHeader","withCredentials","send","onload","rawHeaders","responseText","getAllResponseHeaders","split","line","row","_row$match","_row$match2","slicedToArray_default","ontimeout","onerror","onabort","aborted","abort","__webpack_exports__","client_client"],"mappings":"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","file":"http.browser.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","var defineProperty = require(\"./defineProperty\");\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nmodule.exports = _objectSpread;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","export function client(adapter) {\n  if (!adapter) {\n    throw new Error(\"Adapter is required\");\n  }\n\n  const middlewares = {request: [], response: [], error: []};\n  const del     = (...args) => adapter(\"delete\", middlewares, ...args);\n  const get     = (...args) => adapter(\"get\", middlewares, ...args);\n  const head    = (...args) => adapter(\"head\", middlewares, ...args);\n  const options = (...args) => adapter(\"options\", middlewares, ...args);\n  const patch   = (...args) => adapter(\"patch\", middlewares, ...args);\n  const post    = (...args) => adapter(\"post\", middlewares, ...args);\n  const put     = (...args) => adapter(\"put\", middlewares, ...args);\n\n  const middleware = (chain, callback) => {\n    if (callback) {\n      middlewares[chain].push(callback);\n    }\n\n    return middlewares;\n  };\n\n  const httpClient = {get, post, put, patch, head, options, del, delete: del, middleware};\n\n  adapter.setup(httpClient);\n\n  return httpClient;\n}\n","export function runMiddleware(chain, target) {\n  return chain.reduce((buffer, middleware) => middleware(buffer), target);\n}\n\nexport function normalizeHeaders(headers) {\n  return Object.keys(headers).reduce((buffer, key) => (\n    Object.assign(buffer, {[key.toLowerCase()]: headers[key]})\n  ), {});\n}\n\nexport function handleRequestError(error, middleware, request, reject) {\n  error.request = request;\n  error = runMiddleware(middleware, error);\n  reject(error);\n}\n\nexport function buildUrl(url, params, requestHasBody, encode) {\n  if (!requestHasBody && Object.keys(params).length > 0) {\n    url += url.includes(\"?\") ? \"&\" : \"?\";\n    url += encode(params);\n  }\n\n  return url;\n}\n\nexport function prepareOptions(options) {\n  return Object.assign({headers: {},\n                        auth: {},\n                        body: null,\n                        method: null,\n                        timeout: 0}, options || {});\n}\n","export const BODY = {\n  delete:  {request: false, response: true},\n  get:     {request: false, response: true},\n  head:    {request: false, response: false},\n  options: {request: false, response: true},\n  patch:   {request: true,  response: true},\n  post:    {request: true,  response: true},\n  put:     {request: true,  response: true}\n};\n","function base64(string) {\n  if (typeof atob === \"function\") {\n    return atob(string);\n  } else {\n    return Buffer.from(string).toString(\"base64\");\n  }\n}\n\nexport default function basicAuthMiddleware(options) {\n  let { username, password } = options.auth;\n\n  if (username || password) {\n    options.headers[\"authorization\"] = \"Basic \" + base64(`${username}:${password}`);\n  }\n\n  return options;\n}\n","import { BODY } from \"../constants\";\n\nfunction isFormData(object) {\n  return typeof FormData === \"function\" && object instanceof FormData;\n}\n\nexport default function bodyMiddleware(encode, options) {\n  if (!BODY[options.method].request) {\n    delete options.body;\n    return options;\n  }\n\n  if (options.body) {\n    return options;\n  }\n\n  if (options.params.constructor === Object) {\n    options.body = encode(options.params);\n  } else {\n    options.body = options.params;\n  }\n\n  if (!options.headers[\"content-type\"] && !isFormData(options.body)) {\n    options.headers[\"content-type\"] = \"application/x-www-form-urlencoded\";\n  }\n\n  return options;\n}\n","import { BODY } from \"../constants\";\n\nexport default function jsonBodyMiddleware(options) {\n  if (!BODY[options.method].request) {\n    delete options.body;\n    return options;\n  }\n\n  if (options.body) {\n    return options;\n  }\n\n  const contentType = options.headers[\"content-type\"];\n\n  if (!contentType || !contentType.includes(\"application/json\")) {\n    return options;\n  }\n\n  options.body = JSON.stringify(options.params);\n\n  return options;\n}\n","export default function jsonResponseMiddleware(response) {\n  if (!response.headers[\"content-type\"].includes(\"application/json\")) {\n    return response;\n  }\n\n  try {\n    response.data = JSON.parse(response.body);\n  } catch (error) {\n\n  }\n\n  return response;\n}\n","export default function responseStatusMiddleware(response) {\n  const status = String(response.status);\n\n  response.success = !!(status[0].match(/^[2-3]/));\n  response.redirect = status[0] === \"3\";\n\n  if (response.redirect) {\n    response.location = response.headers.location;\n  }\n\n  return response;\n}\n","import {\n  buildUrl,\n  prepareOptions,\n  handleRequestError,\n  normalizeHeaders,\n  runMiddleware\n} from \"../utils\";\n\nimport {\n  BODY\n} from \"../constants\";\n\nimport basicAuthMiddleware from \"../middleware/basic_auth_middleware\";\nimport bodyMiddleware from \"../middleware/body_middleware\";\nimport jsonBodyMiddleware from \"../middleware/json_body_middleware\";\nimport jsonResponseMiddleware from \"../middleware/json_response_middleware\";\nimport responseStatusMiddleware from \"../middleware/response_status_middleware\";\n\nexport default function encodeParams(params) {\n  return Object\n          .keys(params)\n          .map(key => (encodeURIComponent(key) + \"=\" + encodeURIComponent(params[key])))\n          .join(\"&\");\n}\n\nfunction parseResponseHeaders(rawHeaders) {\n  const lines = rawHeaders.split(/\\r?\\n/).filter(line => !!line);\n  return lines.reduce((buffer, row) => {\n    const [_, name, value] = row.match(/^(.*?):\\s*(.*?)$/);\n\n    buffer[name.toLowerCase()] = value;\n    return buffer;\n  }, {});\n}\n\nfunction handleOnload(method, request, middleware, resolve) {\n  let response = {\n    body: request.responseText,\n    status: request.status,\n    request,\n    response: request,\n    method: method,\n    headers: parseResponseHeaders(request.getAllResponseHeaders())\n  };\n\n  response = runMiddleware(middleware, response);\n\n  resolve(response);\n}\n\nfunction handleTimeout(request, middleware, reject) {\n  const error = new Error(\"Request timed out\");\n  error.timeout = true;\n\n  handleRequestError(error, middleware, request, reject);\n}\n\nfunction handleError(request, middleware, reject) {\n  const error = new Error(\"Request errored out\");\n\n  handleRequestError(error, middleware, request, reject);\n}\n\nfunction handleAbort(request, middleware, reject) {\n  const error = new Error(\"Aborted request\");\n  error.aborted = true;\n\n  handleRequestError(error, middleware, request, reject);\n}\n\n/**\n * Perform http requests using [XMLHttpRequest](https://developer.mozilla.org/en-US/docs/Web/API/XMLHTTPRequest).\n *\n * ```js\n * client\n *   .get(\"https://example.com\")\n *   .then((response, request) => console.log(response, request))\n *   .catch(error => console.log(error, error.request, error.aborted));\n * ```\n *\n * @param  {String} method           The HTTP request method.\n * @param  {Object} middlewares      The middleware chain.\n * @param  {String} url              The request url.\n * @param  {Object} params           The request params.\n * @param  {Object} options.auth     An object representing the basic authentication credentials.\n *                                   It must be something like `{username, password}`.\n * @param  {Object} options.headers  The request headers. Header names should be defined in lowercase form.\n * @param  {Object} options.timeout  The request timeout. Default to 0 (never times out).\n * @param  {Object} options.body     The request body. In case you want to specify it manually.\n * @return {Promise}                 A custom response promise that has an additional `.abort()`\n *                                   method that aborts the in-flight request. Aborted requests will\n *                                   reject the promise.\n */\nexport function adapter(method, middlewares, url, params, options) {\n  params = params || {};\n  options = prepareOptions(options);\n\n  const request = new XMLHttpRequest();\n\n  const promise = new Promise((resolve, reject) => {\n    options = runMiddleware(middlewares.request, {...options, params, method, url});\n    options.headers = normalizeHeaders(options.headers);\n    options.url = buildUrl(options.url, options.params, BODY[options.method].request, encodeParams);\n\n    request.open(options.method, options.url, true);\n\n    Object.keys(options.headers).forEach(key => {\n      request.setRequestHeader(key, options.headers[key]);\n    });\n\n    request.withCredentials = true;\n    request.timeout = options.timeout;\n    request.send(options.body);\n\n    request.onload = handleOnload.bind(null, options.method, request, middlewares.response, resolve);\n    request.ontimeout = handleTimeout.bind(null, request, middlewares.error, reject);\n    request.onerror = handleError.bind(null, request, middlewares.error, reject);\n    request.onabort = handleAbort.bind(null, request, middlewares.error, reject);\n  });\n\n  promise.abort = () => {\n    request.abort();\n  };\n\n  return promise;\n}\n\nadapter.setup = (client) => {\n  client.middleware(\"request\", basicAuthMiddleware);\n  client.middleware(\"request\", jsonBodyMiddleware); // must be added before bodyMiddleware\n  client.middleware(\"request\", bodyMiddleware.bind(null, encodeParams));\n  client.middleware(\"response\", jsonResponseMiddleware);\n  client.middleware(\"response\", responseStatusMiddleware);\n};\n","export { client } from \"../src/client\";\nexport { adapter } from \"../src/adapters/browser\";\n"],"sourceRoot":""}